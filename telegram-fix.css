/* Специальные стили для устранения проблем в мобильной версии Telegram */

/* Устранение эффекта выделения при тапе */
* {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0) !important;
}

/* Сброс цветов фокуса для интерактивных элементов */
button:focus, .tab-btn:focus, .calendar-day:focus {
  outline: none !important;
}

/* Фиксация цветов интерфейса - отключение влияния темы Telegram */
:root.telegram-app, 
.telegram-app {
  /* Принудительно перезаписываем все переменные темы Telegram */
  --tg-theme-bg-color: #0d0d0d !important;
  --tg-theme-text-color: #e0e0e0 !important;
  --tg-theme-hint-color: #999 !important;
  --tg-theme-link-color: #4a90e2 !important;
  --tg-theme-button-color: #4a90e2 !important;
  --tg-theme-button-text-color: white !important;
  --tg-theme-secondary-bg-color: #161616 !important;
}

/* Принудительное применение цветов для основных элементов интерфейса */
.telegram-app .primary-color,
.telegram-app .app-title,
.telegram-app .app-logo,
.telegram-app .tab-btn.active,
.telegram-app .tab-btn.active svg {
  color: #4a90e2 !important;
}

/* ========= НОВОЕ РЕШЕНИЕ ДЛЯ ВКЛАДОК ========= */
/* Основной подход - разделение иконки и индикатора на разные элементы */

/* Базовые стили для всех табов (неактивное состояние) */
.tab-btn {
  color: var(--text-muted) !important;
  position: relative !important;
}

.tab-btn svg {
  color: var(--text-muted) !important;
  opacity: 0.7 !important;
}

/* Явное переопределение стилей для активных табов */
.tab-btn.active {
  color: #4a90e2 !important;
}

.tab-btn.active svg {
  color: #4a90e2 !important;
  opacity: 1 !important;
  fill: #4a90e2 !important;
  stroke: #4a90e2 !important;
}

/* Полностью переопределяем индикатор, делая его отдельным элементом */
.tab-indicator {
  position: absolute !important;
  width: 38px !important;
  height: 38px !important;
  background-color: #4a90e2 !important;
  opacity: 0.3 !important;
  border-radius: 50% !important;
  z-index: -1 !important; /* Гарантирует что индикатор будет под иконкой */
  pointer-events: none !important; /* Индикатор не блокирует клики */
}

/* Стили для кнопок периодичности */
.toggle-container label {
  color: white !important;
  background-color: rgba(26, 26, 26, 0.9) !important;
}

.toggle-container input[type="radio"]:checked + label {
  background-color: #4a90e2 !important;
  color: white !important;
  border-color: #4a90e2 !important;
}

/* Исправление стилей календаря */
.calendar-day {
  background-color: rgba(30, 30, 30, 0.5) !important;
  color: var(--text-color) !important;
  font-weight: normal !important;
}

.calendar-day.selected {
  background-color: #4a90e2 !important;
  color: white !important;
  font-weight: 600 !important;
}

/* Исправление для выбранного цвета */
.color-option.selected {
  border-color: white !important;
  box-shadow: 0 0 0 2px #4a90e2 !important;
}

/* Исправление для полей ввода */
input[type="text"],
input[type="number"],
input[type="date"] {
  color: white !important;
  background-color: rgba(30, 30, 30, 0.9) !important;
}

/* Фикс для кнопки отправки формы */
.telegram-app .submit-btn {
  background-color: #4a90e2 !important;
  color: white !important;
}

/* Фикс для выпадающих меню и списков */
select, option {
  color: white !important;
  background-color: #1a1a1a !important;
}

/* Усиленный контраст для лучшей видимости */
label, .form-title, .section-title {
  color: #ffffff !important;
}

/* Более глобальные селекторы для переопределения стилей Telegram */
body.telegram-app * {
  font-family: 'Rubik', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
}

/* Исправление плюсика в кнопке добавления подписки - принудительный фиксированный цвет*/
.fab-button {
  background-color: #4a90e2 !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
}

/* Улучшаем видимость плюсика - делаем его белым и более жирным */
.fab-button svg {
  color: white !important;
  fill: white !important;
  stroke: white !important;
  opacity: 1 !important;
  width: 30px !important;
  height: 30px !important;
  stroke-width: 0.5 !important;
}

/* Принудительно заменяем все Theme CSS переменные Telegram */
.telegram-app .fab-button {
  background-color: #4a90e2 !important;
  color: white !important;
}

.telegram-app .fab-button svg {
  color: white !important;
  fill: white !important;
  stroke: white !important;
}

/* Дополнительное усиление контрастности при наведении на кнопку (для сенсорного события) */
.telegram-app .fab-button:active,
.telegram-app .fab-button:hover,
.telegram-app .fab-button:focus {
  background-color: #4a90e2 !important;
}

/* Дополнительное решение для мобильного Safari */
@supports (-webkit-overflow-scrolling: touch) {
  .fab-button svg {
    color: white !important;
    fill: white !important;
    stroke-width: 0 !important;
  }
  
  /* Специфичные настройки для iOS Safari */
  .tab-btn.active svg {
    color: #4a90e2 !important;
    opacity: 1 !important;
    fill: #4a90e2 !important;
    stroke: #4a90e2 !important;
  }
} 